<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Ales' Rachko, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.80.0">
    <title>Edit profile</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/starter-template/">

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

    <!-- Favicons -->
    <link rel="icon" href="/img/favicons/userEdit.png" sizes="32x32" type="image/png">
    <meta name="theme-color" content="#7952b3">

    <!-- Custom styles for this template -->
    <link href="/css/starter-template.css" rel="stylesheet">
</head>

<body>
<div th:replace="fragments/upperNavbar :: copy"></div>

<main class="container">
    <div class="starter-template py-5 px-3">
        <div class="text-center">
            <h1>Edit profile</h1>
            <p class="lead">You can change your 'username' or 'password'</p>
        </div>
        <form action="#" enctype="multipart/form-data" th:href="@{'/update'}" th:method="post" th:object="${userDto}">
            <table class="table">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Value</th>
                </tr>
                </thead>
                <tbody class="text-left">
                <tr><th scope="row" class="text-left">Library card number</th><td th:text="${userDto.id}"></td></tr>
                <tr><th scope="row">Username</th><td>
                        <label class="form-label visually-hidden" for="firstName">First name</label>
                        <input class="form-control" id="firstName" placeholder="First name" th:field="*{firstName}"
                               th:value="${userDto.firstName}"
                               type="text">
                        <span class="text-danger" th:errors="*{firstName}"
                              th:if="${#fields.hasErrors('firstName')}"></span>
                </td></tr>
                <tr><th scope="row">Last name</th><td>
                    <label class="form-label visually-hidden" for="lastName">Last name</label>
                    <input class="form-control" id="lastName" placeholder="Last name" th:field="*{lastName}"
                           th:value="${userDto.lastName}"
                           type="text">
                    <span class="text-danger" th:errors="*{lastName}"
                          th:if="${#fields.hasErrors('lastName')}"></span>
                </td></tr>
                <tr><th scope="row">Middle name</th><td>
                        <label class="form-label visually-hidden" for="middleName">Middle name</label>
                        <input class="form-control" id="middleName" placeholder="Middle name" th:field="*{middleName}"
                               th:value="${userDto.middleName}"
                               type="text">
                        <span class="text-danger" th:errors="*{middleName}"
                              th:if="${#fields.hasErrors('middleName')}"></span>
                </td></tr>
                <tr><th scope="row">User name</th><td>
                    <label class="form-label visually-hidden" for="userName">User name</label>
                    <input class="form-control" id="userName" placeholder="User name" th:field="*{username}"
                           th:value="${userDto.username}"
                           type="text">
                    <span class="text-danger" th:errors="*{username}"
                          th:if="${#fields.hasErrors('username')}"></span>
                </td></tr>
                <tr><th scope="row">Email</th><td>
                    <label class="sr-only visually-hidden" for="email">Email</label>
                    <input class="form-control" id="email" placeholder="Email" th:field="*{email}" th:value="${userDto.email}"
                           type="email">
                    <span class="text-danger" th:errors="*{email}" th:if="${#fields.hasErrors('email')}"></span>
                </td></tr>
                <tr><th scope="row">Phone number</th><td>
                    <label class="form-label visually-hidden" for="phoneNumber">Phone number</label>
                    <input class="form-control" id="phoneNumber" placeholder="Phone number" th:field="*{phoneNumber}"
                           th:value="${userDto.phoneNumber}"
                           type="text">
                    <span class="text-danger" th:errors="*{phoneNumber}"
                          th:if="${#fields.hasErrors('phoneNumber')}"></span>
                </td></tr>
                <tr><th scope="row">Gender</th><td>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" th:field="${userDto.gender}" type="radio" name="genderRadio"
                               id="genderMale" value="male"
                               th:checked="*{gender.equals('male')}">
                        <label class="form-check-label" for="genderMale">male</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" th:field="${userDto.gender}" type="radio" name="genderRadio"
                               id="genderFemale" value="female"
                               th:checked="*{gender.equals('female')}">
                        <label class="form-check-label" for="genderFemale">female</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" th:field="${userDto.gender}" type="radio" name="genderRadio"
                               id="genderUnknown" value="unknown" checked="checked"
                               th:checked="*{gender.equals('unknown')}">
                        <label class="form-check-label" for="genderUnknown">don't say</label>
                    </div>
                </td></tr>
                <tr><th scope="row">Birthday date</th><td>
                    <label class="form-label" for="birthday">Birthday</label>
                    <input class="form-control" id="birthday" placeholder="Birthday" th:field="*{birthday}"
                           th:value="${userDto.birthday}"
                           type="date">
                    <span class="text-danger" th:errors="*{birthday}" th:if="${#fields.hasErrors('birthday')}"></span>
                </td></tr>
                <tr><th scope="row">Address</th><td>
                    <div th:object="${userDto.addressDto}">
                        <div class="mb-2">
                            <label class="form-label" for="region">Region name</label>
                            <input class="form-control" id="region" placeholder="Region name" th:field="*{region}"
                                   th:value="*{region}"
                                   type="text">
                            <span class="text-danger" th:errors="*{region}"
                                  th:if="${#fields.hasErrors('region')}"></span>
                        </div>
                        <div class="mb-2">
                            <label class="form-label" for="district">District name</label>
                            <input class="form-control" id="district" placeholder="District name"
                                   th:field="*{district}"
                                   th:value="*{district}"
                                   type="text">
                            <span class="text-danger" th:errors="*{district}"
                                  th:if="${#fields.hasErrors('district')}"></span>
                        </div>
                        <div class="mb-2">
                            <label class="form-label" for="city">City name</label>
                            <input class="form-control" id="city" placeholder="City name" th:field="*{cityName}"
                                   th:value="*{cityName}"
                                   type="text">
                            <span class="text-danger" th:errors="*{cityName}"
                                  th:if="${#fields.hasErrors('cityName')}"></span>
                        </div>
                        <div class="mb-2">
                            <label class="form-label" for="street">Street name</label>
                            <input class="form-control" id="street" placeholder="Street name" th:field="*{streetName}"
                                   th:value="*{streetName}"
                                   type="text">
                            <span class="text-danger" th:errors="*{streetName}"
                                  th:if="${#fields.hasErrors('streetName')}"></span>
                        </div>
                        <div class="mb-2">
                            <label class="form-label" for="house">House number</label>
                            <input class="form-control" id="house" placeholder="House number" th:field="*{houseNumber}"
                                   th:value="*{houseNumber}"
                                   type="text">
                            <span class="text-danger" th:errors="*{houseNumber}"
                                  th:if="${#fields.hasErrors('houseNumber')}"></span>
                        </div>
                        <div class="mb-2">
                            <label class="form-label" for="apt">Apartments number</label>
                            <input class="form-control" id="apt" placeholder="Apartment number"
                                   th:field="*{apartmentNumber}"
                                   th:value="*{apartmentNumber}"
                                   type="text">
                            <span class="text-danger" th:errors="*{apartmentNumber}"
                                  th:if="${#fields.hasErrors('apartmentNumber')}"></span>
                        </div>

                        <div class="mb-2">
                            <label class="form-label" for="postalCode">Postal code</label>
                            <input class="form-control" id="postalCode" placeholder="Postal code"
                                   th:field="*{postalCode}"
                                   th:value="*{postalCode}"
                                   type="text">
                            <span class="text-danger" th:errors="*{postalCode}"
                                  th:if="${#fields.hasErrors('postalCode')}"></span>
                        </div>
                    </div>
                </td></tr>
                <tr><th scope="row">Password</th><td>
                    <label class="sr-only visually-hidden" for="password">Password</label>
                    <input class="form-control" id="password" placeholder="Password" th:field="*{password}" type="password">
                    <span class="text-danger" th:errors="*{password}" th:if="${#fields.hasErrors('password')}"></span>
                </td></tr>
                <tr><th scope="row" class="text-left" >Confirm password</th><td>
                    <label class="sr-only visually-hidden" for="passwordConfirm">Confirm password</label>
                    <input class="form-control" id="passwordConfirm" placeholder="Confirm password"
                           th:field="*{passwordConfirm}" type="password">
                    <span class="text-danger" th:errors="*{passwordConfirm}"
                          th:if="${#fields.hasErrors('passwordConfirm')}"></span>
                </td></tr>
                <tr><th scope="row">Created</th><td th:text="${userDto.created}"></td></tr>
                <tr><th scope="row">Updated</th><td th:text="${userDto.updated}"></td></tr>
                <tr><th scope="row">Is enabled</th><td th:text="${userDto.enabled}"></td></tr>
                <tr><th scope="row">Roles</th><td>
                    <p class="m-0" th:each="role : ${userDto.getRoles()}" th:text="${role}"></p>
                </td></tr>
                </tbody>
            </table>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#updateModal">
                Update
            </button>

            <!-- Modal -->
            <div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="updateModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="updateModalLabel">Do you wont update profile?</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body" th:object="${userDto}">
                            <p th:text="*{username}"></p>
                            <p th:field="*{password}"></p>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Close</button>
                            <button class="btn btn-primary" type="submit">Update</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

</main>

<div th:replace="fragments/footer :: copy"></div>

<script src="/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>